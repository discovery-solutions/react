(function(t,u){typeof exports=="object"&&typeof module<"u"?u(exports):typeof define=="function"&&define.amd?define(["exports"],u):(t=typeof globalThis<"u"?globalThis:t||self,u(t["@dscvr-solutions/react"]={}))})(this,function(t){"use strict";const u={},d=new Map;t.currentComponentInstance=null;const p=(o,e)=>{class n extends HTMLElement{connectedCallback(){u[e]=this;const r=d.get(this);r&&(r.index=0),t.currentComponentInstance=this;const c=o.call(this);t.currentComponentInstance=null,c.setAttribute("data-reactive",e),this.innerHTML="",this.appendChild(c)}}customElements.define(e,n)};window.React={functions:{}};const w=(o,...e)=>{const n=o.reduce((c,s,l)=>{let a=e[l];if(typeof a=="function"){const f=`fn_${Math.random().toString(36).substring(2,15)}`;window.React.functions[f]=a,a=`window.React.functions.${f}()`}return Array.isArray(a)&&(a=a.reduce((f,E)=>(f+=E.outerHTML,f),"")),typeof a=="object"?c+s:c+s+a},""),i=document.createElement("template");i.innerHTML=n.trim();const r=i.content.firstChild;for(let c=0;c<e.length;c++)e[c].constructor.name==="Ref"&&(e[c].current=r);return r},R=o=>{const e=new Set;let n=o;return{get:()=>n,set:s=>{s!==n&&(n=s,e.forEach(l=>l(s)))},subscribe:s=>(e.add(s),()=>e.delete(s))}},b=(o,e)=>{let n;(()=>{n&&n(),n=o()})()},v=o=>{if(!t.currentComponentInstance)throw new Error("useState must be used within a component.");d.has(t.currentComponentInstance)||d.set(t.currentComponentInstance,{states:[],index:0});const e=d.get(t.currentComponentInstance),n=e.index;e.index++,e.states[n]===void 0&&(e.states[n]=o);const i=()=>Object.values(u).forEach(c=>c.connectedCallback()),r=c=>{e.states[n]=c,console.log(i),i()};return[e.states[n],r]},C=o=>({current:o});class m extends HTMLElement{connectedCallback(){window.onpopstate=()=>this.updateRoute(),this.updateRoute()}updateRoute(){var n;const e=window.location.pathname;this.innerHTML=((n=this.querySelector(`[data-route="${e}"]`))==null?void 0:n.innerHTML)||"404 Not Found"}}customElements.define("reactive-router",m);class h extends HTMLElement{connectedCallback(){this.addEventListener("click",e=>{e.preventDefault();const n=this.getAttribute("href");n&&(window.history.pushState({},"",n),window.dispatchEvent(new Event("popstate")))})}}customElements.define("reactive-link",h),t.Components=u,t.ReactiveLink=h,t.ReactiveRouter=m,t.componentStates=d,t.createReactiveState=R,t.register=p,t.render=w,t.useEffect=b,t.useRef=C,t.useState=v,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});
